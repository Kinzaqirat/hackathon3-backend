apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: learnflow-statestore
  namespace: default
spec:
  type: state.redis
  version: v1
  metadata:
  - name: redisHost
    value: redis:6379
  - name: redisPassword
    value: ""
  - name: actorStateStore
    value: "false"

---
apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: learnflow-pubsub
  namespace: default
spec:
  type: pubsub.kafka
  version: v1
  metadata:
  - name: brokers
    value: "kafka:9092"
  - name: consumerGroup
    value: "learnflow-backend-group"
  - name: authType
    value: "none"

---
apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: learnflow-bindings
  namespace: default
spec:
  type: bindings.postgres
  version: v1
  metadata:
  - name: url
    value: "host=postgres user=postgres password=postgres dbname=learnflow port=5432 sslmode=disable"